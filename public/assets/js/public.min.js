!function(){"use strict";!function(t){t(document).ready(function(){function i(){d=t(this).closest("form"),"undefined"==typeof wc_cart_params?d.trigger("submit"):t(document).trigger("wc_update_cart")}function e(){var i=t(window).width();return i<=600?parseInt(decomGiftable.carouselSlides.small):i<=1024?parseInt(decomGiftable.carouselSlides.medium):parseInt(decomGiftable.carouselSlides.large)}function a(){(o=t("#dgfw-gifts-carousel")).data("is-slick")||(o.find(".dgfw-gift").length>e()?(o.slick({dots:!0,rtl:"rtl"===t("html").attr("dir"),infinite:!1,speed:300,slidesToShow:parseInt(decomGiftable.carouselSlides.large),slidesToScroll:parseInt(decomGiftable.carouselSlides.large),responsive:[{breakpoint:1024,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.medium),slidesToScroll:parseInt(decomGiftable.carouselSlides.medium),infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.small),slidesToScroll:parseInt(decomGiftable.carouselSlides.small)}}]}),o.data("is-slick",!0)):o.addClass("no-slick-needed"))}function s(i){n.addClass("loading"),c(d),t.ajax(decomGiftable.ajaxUrl,{type:"POST",data:{action:"dgfw_get_giftable_variations_html",security:decomGiftable.security,product_id:i},success:function(i){n.html(i.data.html),"undefined"!=typeof wc_add_to_cart_variation_params&&n.find(".variations_form").each(function(){t(this).wc_variation_form().find(".variations select:eq(0)").change()}),r(d)}})}var o=t("#dgfw-gifts-carousel"),n=t("#dgfw-gift-variations"),d=!1;t("body").on("click",".dgfw-add-gift-button",function(e){e.preventDefault(),t("#dgfw_chosen_gift").val(t(this).data("gift")),t("#dgfw-gift-variations").html(""),i()}),t("body").on("click",".dgfw-select-gift-button",function(i){i.preventDefault(),d=t(this).closest("form"),n=t("#dgfw-gift-variations"),s(t(this).data("gift"))});var l=function(t){return t.is(".processing")||t.parents(".processing").length},c=function(t){l(t)||t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},r=function(t){t.removeClass("processing").unblock()};t("body").on("click","#dgfw-gift-variations .single_add_to_cart_button",function(e){if(!t(this).is(".disabled")){e.preventDefault(),e.stopPropagation();var a=n.find('input[name="variation_id"]').val();t("#dgfw_chosen_gift").val(a),i()}}),a(),t(document).on("updated_wc_div",a),t(window).on("resize",a)})}(jQuery)}();
