!function(){"use strict";var t;(t=jQuery)(document).ready(function(){var e=t("#dgfw-gifts-carousel"),i=t("#dgfw-gift-variations"),a=!1;function s(){a=t(this).closest("form"),"undefined"==typeof wc_cart_params?a.trigger("submit"):t(document).trigger("wc_update_cart")}function o(){var i;(e=t("#dgfw-gifts-carousel")).data("is-slick")||(e.find(".dgfw-gift").length>((i=t(window).width())<=600?parseInt(decomGiftable.carouselSlides.small):i<=1024?parseInt(decomGiftable.carouselSlides.medium):parseInt(decomGiftable.carouselSlides.large))?(e.slick({dots:!0,rtl:"rtl"===t("html").attr("dir"),infinite:!1,speed:300,slidesToShow:parseInt(decomGiftable.carouselSlides.large),slidesToScroll:parseInt(decomGiftable.carouselSlides.large),responsive:[{breakpoint:1024,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.medium),slidesToScroll:parseInt(decomGiftable.carouselSlides.medium),infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.small),slidesToScroll:parseInt(decomGiftable.carouselSlides.small)}}]}),e.data("is-slick",!0)):e.addClass("no-slick-needed"))}t("body").on("click",".dgfw-add-gift-button",function(e){e.preventDefault(),t("#dgfw_chosen_gift").val(t(this).data("gift")),t("#dgfw-gift-variations").html(""),s()}),t("body").on("click",".dgfw-select-gift-button",function(e){e.preventDefault(),a=t(this).closest("form"),i=t("#dgfw-gift-variations");var s,o=t(this).data("gift");s=o,i.addClass("loading"),d(a),t.ajax(decomGiftable.ajaxUrl,{type:"POST",data:{action:"dgfw_get_giftable_variations_html",security:decomGiftable.security,product_id:s},success:function(e){i.html(e.data.html),"undefined"!=typeof wc_add_to_cart_variation_params&&i.find(".variations_form").each(function(){t(this).wc_variation_form().find(".variations select:eq(0)").change()}),n(a)}})});var d=function(t){var e;(e=t).is(".processing")||e.parents(".processing").length||t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},n=function(t){t.removeClass("processing").unblock()};t("body").on("click","#dgfw-gift-variations .single_add_to_cart_button",function(e){if(!t(this).is(".disabled")){e.preventDefault(),e.stopPropagation();var a=i.find('input[name="variation_id"]').val();t("#dgfw_chosen_gift").val(a),s()}}),o(),t(document).on("updated_wc_div",o),t(window).on("resize",o),t(document.body).on("updated_cart_totals",function(){t("#dgfw-gifts-carousel").length&&t(".dgfw-gift").each(function(){t(".dgfw-add-gift-button, .dgfw-select-gift-button").prop("disabled",!1)})}),t(window).on("load",function(){t("#dgfw-gifts-carousel").length&&t(".dgfw-gift").each(function(){t(".dgfw-add-gift-button, .dgfw-select-gift-button").prop("disabled",!1)})})})}();
