!function(){"use strict";var n;(n=jQuery)(document).ready(function(){var e=n("#dgfw-gifts-carousel"),a=n("#dgfw-gift-variations"),s=!1;function i(){s=n(this).closest("form"),"undefined"==typeof wc_cart_params?s.trigger("submit"):n(document).trigger("wc_update_cart")}function t(){var t;(e=n("#dgfw-gifts-carousel")).data("is-slick")||(e.find(".dgfw-gift").length>((t=n(window).width())<=600?parseInt(decomGiftable.carouselSlides.small):t<=1024?parseInt(decomGiftable.carouselSlides.medium):parseInt(decomGiftable.carouselSlides.large))?(e.slick({dots:!0,rtl:"rtl"===n("html").attr("dir"),infinite:!1,speed:300,slidesToShow:parseInt(decomGiftable.carouselSlides.large),slidesToScroll:parseInt(decomGiftable.carouselSlides.large),responsive:[{breakpoint:1024,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.medium),slidesToScroll:parseInt(decomGiftable.carouselSlides.medium),infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:parseInt(decomGiftable.carouselSlides.small),slidesToScroll:parseInt(decomGiftable.carouselSlides.small)}}]}),e.data("is-slick",!0)):e.addClass("no-slick-needed"))}n("body").on("click",".dgfw-add-gift-button",function(t){t.preventDefault(),n("#dgfw_chosen_gift").val(n(this).data("gift")),n("#dgfw-gift-variations").html(""),i()}),n("body").on("click",".dgfw-select-gift-button",function(t){t.preventDefault(),s=n(this).closest("form"),a=n("#dgfw-gift-variations");var e,i=n(this).data("gift");e=i,a.addClass("loading"),o(s),n.ajax(decomGiftable.ajaxUrl,{type:"POST",data:{action:"dgfw_get_giftable_variations_html",security:decomGiftable.security,product_id:e},success:function(t){a.html(t.data.html),"undefined"!=typeof wc_add_to_cart_variation_params&&a.find(".variations_form").each(function(){n(this).wc_variation_form().find(".variations select:eq(0)").change()}),d(s)}})});var o=function(t){var e;(e=t).is(".processing")||e.parents(".processing").length||t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},d=function(t){t.removeClass("processing").unblock()};n("body").on("click","#dgfw-gift-variations .single_add_to_cart_button",function(t){if(!n(this).is(".disabled")){t.preventDefault(),t.stopPropagation();var e=a.find('input[name="variation_id"]').val();n("#dgfw_chosen_gift").val(e),i()}}),t(),n(document).on("updated_wc_div",t),n(window).on("resize",t),n(document.body).on("updated_cart_totals",function(){n("#dgfw-gifts-carousel").length&&n(".dgfw-gift").each(function(){n(".dgfw-add-gift-button, .dgfw-select-gift-button").prop("disabled",!1)})}),n(window).on("load",function(){n("#dgfw-gifts-carousel").length&&n(".dgfw-gift").each(function(){n(".dgfw-add-gift-button, .dgfw-select-gift-button").prop("disabled",!1)})})})}();
